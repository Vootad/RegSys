{% extends 'base.html' %}
{% block title %}دروس من{% endblock %}

{% block content %}
<div style="display: flex; align-items: center; gap: 15px; margin-bottom: 25px; background: white; padding: 20px; border-radius: 15px; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
    <h2 style="margin: 0; color: #2E8B57;">
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align: middle; margin-left: 10px;">
            <path d="M22 10v6M2 10l10-5 10 5-10 5z"></path>
            <path d="M6 12v5c3 3 9 3 12 0v-5"></path>
        </svg>
        لیست دروس اساتید
    </h2>
</div>

<div class="card-container">
    <table>
        <thead>
            <tr>
                <th>کد درس</th>
                <th>نام درس</th>
                <th>ظرفیت</th>
                <th>تعداد ثبت‌نامی</th>
                <th>زمان برگزاری (روز و ساعت)</th>
                <th>عملیات</th>
            </tr>
        </thead>
        <tbody>
            {% for course in courses %}
            <tr>
                <td><strong>{{ course.code }}</strong></td>
                <td style="font-weight: 600; color: #333;">{{ course.name }}</td>
                <td>{{ course.capacity }}</td>
                <td>
                    <span style="background: #e8f7ef; color: #2E8B57; padding: 4px 12px; border-radius: 8px; font-weight: bold; border: 1px solid #c3e6cb;">
                        {{ course.enrolled_students.count }} نفر
                    </span>
                </td>
                <td>{{ course.get_day_display }} ({{ course.start_time|time:"H:i" }} تا {{ course.end_time|time:"H:i" }})</td>
                <td>
                    <a href="{% url 'professors:student_list' course.id %}" class="btn-action btn-green" style="text-decoration: none; display: inline-flex; align-items: center; gap: 8px; padding: 8px 15px;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                        مشاهده لیست دانشجویان
                    </a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="6" style="padding: 50px; color: #888; text-align: center;">
                    <div style="margin-bottom: 15px; opacity: 0.5;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="8" y1="15" x2="16" y2="15"></line>
                            <line x1="9" y1="9" x2="9.01" y2="9"></line>
                            <line x1="15" y1="9" x2="15.01" y2="9"></line>
                        </svg>
                    </div>
                    در حال حاضر درسی برای شما در این ترم تعریف نشده است.
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}